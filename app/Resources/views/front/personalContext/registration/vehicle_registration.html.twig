{% extends ':front/Layout:layout.html.twig' %}

{% form_theme vehicleForm _self %}

{% block _vehicle_pictures_entry_widget %}
    <div id="{{ form.vars.id }}" style="border:1px solid #000;margin:10px;">
        <div>{{ form_widget(form.file) }}</div>
        <div>{{ form_widget(form.caption) }}</div>
        <a onclick="this.parentNode.parentNode.removeChild(this.parentNode);">Supprimer</a>
    </div>
{% endblock %}

{% block body %}
    {{ form_start(vehicleForm, { 'attr' : { 'id' : 'js-form-car-registration' } }) }}

    {{ form_widget(vehicleForm.information) }}

    {{ form_widget(vehicleForm.specifics) }}

    <div id="js-pictures-holder" data-prototype="{{ form_widget(vehicleForm.pictures.vars.prototype)|e('html_attr') }}">
        {% for pictureSubForm in vehicleForm.pictures %}
            {{ form_widget(pictureSubForm) }}
        {% endfor %}
    </div>

    <input type="submit" value="Enregistrer" />

    {{ form_end(vehicleForm) }}

{% endblock body %}
