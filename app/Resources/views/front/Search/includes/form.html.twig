{% form_theme searchForm ':front/Layout/includes/forms:fields.html.twig' %}

<div id="js-search-form-container" data-fetch-url="{{ path('front_vehicle_registration_form_update') }}" class="search-form-container" data-toggler=".is-hidden">
    {{ form_start(searchForm, {
        'attr' : {
            'class' : 'search-form row',
            'id' : 'js-search-form'
        }
    }) }}
        <div class="column small-12 medium-6 large-4">
            {{ form_widget(searchForm.text, {
                'class' : '',
                'required' : false,
                'label' : 'Véhicule recherché',
                'label_class' : '',
                'placeholder': 'Ex. Citröen C3'
            }) }}
        </div>

        <div class="column small-12 medium-6 large-5">
            <label for="search_vehicle_postalCode">Votre localisation</label>
            <div class="block-grid small-12">
            {{ form_widget(searchForm.postalCode, {
                'label': false,
                'class': 'js-city-autocomplete',
                'required' : false,
                'required_message' : 'Veuillez d\'abord renseigner le code postal',
                'required_class' : 'form-error',
                'attr' : {
                    'data-autocomplete-url': path('front_city_autocomplete'),
                    'data-city-field': 'search_vehicle_cityName',
                    'data-latitude-field': 'search_vehicle_latitude',
                    'data-longitude-field': 'search_vehicle_longitude'
                }
            }) }}
            {{ form_widget(searchForm.cityName) }}
            {{ form_widget(searchForm.latitude) }}
            {{ form_widget(searchForm.longitude) }}
            </div>
        </div>

        <div class="show-for-large column large-3">
            <label for="search-label" class="show-for-large is-invisible">{{ 'global.button.search'|trans }}</label>
            <button type="submit" class="button full-width">{{ 'global.button.search'|trans }}</button>
        </div>

        <div id="js-search-expand" class="is-hidden block-grid small-12" data-toggler=".is-hidden">
            <div class="column small-12 medium-6 large-3">
                {{ form_widget(searchForm.make, {
                    'class' : '',
                    'required' : false,
                    'label' : 'Marque',
                    'label_class' : '',
                    'placeholder': 'Marque du véhicule'
                }) }}
            </div>
            <div class="column small-12 medium-6 large-3">
                {{ form_widget(searchForm.model, {
                    'class' : '',
                    'required' : false,
                    'label' : 'Modèle',
                    'label_class' : '',
                    'placeholder': 'Modèle du véhicule'
                }) }}
            </div>
            <div class="column small-12 medium-6 large-3">
                {{ form_widget(searchForm.mileageMax, {
                    'class' : '',
                    'required' : false,
                    'label' : 'Kilométrage max',
                    'label_class' : '',
                    'placeholder': 'Kilométrage max'
                }) }}
            </div>
            <div class="block-grid small-12">
                <div class="column small-12 medium-6 large-3">
                    {{ form_widget(searchForm.yearsMin, {
                        'class' : '',
                        'required' : false,
                        'label' : 'Année min',
                        'label_class' : '',
                        'placeholder': 'Année min'
                    }) }}
                </div>
                <div class="column small-12 medium-6 large-3">
                    {{ form_widget(searchForm.yearsMax, {
                        'class' : '',
                        'required' : false,
                        'label' : 'Année max',
                        'label_class' : '',
                        'placeholder': 'Année max'
                    }) }}
                </div>
                <div class="column small-12 medium-6 large-3">
                    {{ form_widget(searchForm.budgetMin, {
                        'class' : '',
                        'required' : false,
                        'label' : 'Budget min',
                        'label_class' : '',
                        'placeholder': 'Budget min'
                    }) }}
                </div>
                <div class="column small-12 medium-6 large-3">
                    {{ form_widget(searchForm.budgetMax, {
                        'class' : '',
                        'required' : false,
                        'label' : 'Budget max',
                        'label_class' : '',
                        'placeholder': 'Budget max'
                    }) }}
                </div>
                <div class="column small-12 medium-6 large-3">
                    {{ form_widget(searchForm.transmission, {
                        'class' : '',
                        'required' : false,
                        'label' : 'Boite de vitesse',
                        'label_class' : '',
                        'placeholder': 'Boite de vitesse'
                    }) }}
                </div>
                <div class="column small-12 medium-6 large-3">
                    {{ form_widget(searchForm.fuel, {
                        'class' : '',
                        'required' : false,
                        'label' : 'Energie',
                        'label_class' : '',
                        'placeholder': 'Energie'
                    }) }}
                </div>
            </div>
        </div>

        <div class="search-actions-button input-margin block-grid column small-12 large-order-2">
            <a class="search-actions-open icon-plus-circle" data-toggle="js-search-expand"><span class="text-underline">Plus de critères</span></a>
            {#<a href="" class="small-right medium-no-margin icon-save"><span class="text-underline">Enregistrer recherche</span></a>#}
        </div>
        <div class="hide-for-large column small-12">
            <button type="submit" class="button full-width">{{ 'global.button.search'|trans }}</button>
        </div>
    {{ form_end(searchForm) }}
</div>
