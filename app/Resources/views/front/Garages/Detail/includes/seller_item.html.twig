{% extends 'front/User/includes/seller_pro_item.html.twig' %}

{% set seller = membership.proUser %}

{% block bottomContainer %}
    <div class="tag-container text-center">
        {% set nbProSpeciality = seller.proUserSpecialities|length %}
        {% for proSpeciality in seller.proUserSpecialities(highlightSpecialities ?? [])|slice(0,2) %}
            <a href="{{ path('front_directory_by_service_view', {'speciality': proSpeciality.proService.slug}) }}"
               class="tag">{{ proSpeciality.proService.name }}</a>
        {% endfor %}
        {% if nbProSpeciality > 2 %}
            <a href="{{ path('front_view_pro_user_info', {'slug': seller.slug}) }}"
               class="tag">+{{ nbProSpeciality - 2 }}</a>
        {% endif %}
    </div>

    {# TODO finish add buttons #}
    <div class="margin-top-1 text-center">
        {% if seller.is(app.user) %}
            <a href="{{ path('front_edit_user_info') }}" class="button full-width">
                {{ 'user.profile.edit.action'|trans }}
            </a>
        {% endif %}
        {% if isEditableByCurrentUser %}

        {% else %}
            <a href="{{ path('front_conversation_create', {'id': seller.id}) }}" title="{{ 'global.button.send_message'|trans }}"
               class="button primary-button icon-message margin-bottom-1 full-width" data-wtaction="LM" data-wtfrom="{{ app.user|wtFromDataAttrValue }}"
               data-wtto="{{ seller|wtToDataAttrValue }}">{{ 'global.button.send_message'|trans }}</a>
            {% if seller.phonePro %}
                {{ include('front/Seller/includes/phone_number_button.html.twig', {
                    'phoneOwner': seller,
                    'phoneNumber': seller.phonePro,
                    'showphone_subaction': "2",
                    'buttonClass': 'icon-tel 1 full-width'
                }) }}
            {% elseif seller.phone %}
                {{ include('front/Seller/includes/phone_number_button.html.twig', {
                    'phoneOwner': seller,
                    'phoneNumber': seller,
                    'showphone_subaction': "1",
                    'buttonClass': 'icon-mobile full-width'
                }) }}
            {% endif %}
        {% endif %}
    </div>
{% endblock bottomContainer %}