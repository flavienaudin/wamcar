{% extends 'front/Layout/layout.html.twig' %}
{% block mainClass %}no-padding-top{% endblock %}

{% block title %}{{ 'directory.page_tile'|trans }}{% endblock %}
{% block meta_description %}{{ 'directory.description'|trans }}{% endblock %}
{% set seo_img_url = absolute_url(asset('assets/images/background/Wamcar-rencontre-conseiller_automobile-selfie.png')) %}
{% block canonical %}{{ url('front_directory_view') }}{% endblock canonical %}

{% set breadcrumbs = [
    {
        'name': 'directory.page_tile'|trans,
        'href': app.request.requestUri
    }
] %}

{% block body %}
    {% set page_header_class = 'no-margin' %}

    {% if not isLogged %}<div class="is-hidden">{% endif %}
        {% include 'front/Layout/includes/breadcrumb.html.twig' %}
    {% if not isLogged %}</div>{% endif %}

    {% include 'front/Layout/includes/page_header.html.twig' with {
        page_header_class: 'show-for-sr',
        title: block('title')
    } %}

    <div class="block-gray {{ not isLogged ? 'directory-header-background' }}">
        {% if not isLogged %}
            <div class=" directory-form-header is-flex align-middle">
                <div class="column small-8 large-7 large-offset-1 xlarge-6 xlarge-offset-2 text-center">
                    <h2 class="h1">{{ 'directory.form.title'|trans }}</h2>
                    <h3 class="h2 show-for-medium">{{ 'directory.form.subtitle'|trans }}</h3>
                </div>
                <div class="column small-4 large-4 xlarge-4 selfie-bg">&nbsp;</div>
            </div>
        {% endif %}
        {% include 'front/Directory/includes/form.html.twig' %}
    </div>

    <div class="row white-bg">
        <div class="directory-result column small-12">
            <header class="block-grid small-12 align-middle">
                <strong class="h2 no-margin show-for-medium">{{ result.totalHits }} r√©sultat(s)</strong>
            </header>
            <div>
                {% if result.totalHits > 0 %}
                    {% for hit in result.hits %}
                        {{ include('front/Directory/includes/pro_user_item.html.twig', {
                            'proUser' : hit
                        }) }}
                    {% endfor %}
                    {% include 'front/Layout/includes/pagination.html.twig' with {
                        'route': 'front_directory_view',
                        'page': page,
                        'lastPage': lastPage
                    } %}
                {% else %}
                    <br>
                    <p>{{ 'directory.result.empty'|trans }}</p>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock body %}