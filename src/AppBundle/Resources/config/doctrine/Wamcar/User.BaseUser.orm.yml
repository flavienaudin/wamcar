Wamcar\User\BaseUser:

    type: entity
    inheritanceType: SINGLE_TABLE
    table: user
    discriminatorColumn:
        name: discriminator
        type: string
    discriminatorMap:
        basic-pro: Wamcar\User\ProUser
        basic-personal: Wamcar\User\PersonalUser
        pro: AppBundle\Doctrine\Entity\ProApplicationUser
        personal: AppBundle\Doctrine\Entity\PersonalApplicationUser

    exclusion_policy: ALL
    repositoryClass: AppBundle\Doctrine\Repository\DoctrineUserRepository

    embedded:
        userProfile:
            class: Wamcar\User\UserProfile
            columnPrefix: profile_

    id:
        id:
            type: integer
            id: true
            generator:
                strategy: AUTO

    fields:
        email:
            type: string
            length: 191   # needed to index field in utf8mb4
            unique: true
